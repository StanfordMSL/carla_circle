<?xml version="1.0" encoding="UTF-8"?>

<launch>

	<!-- share one bridge  -->
	<include file="$(find carla_ros_bridge)/launch/carla_ros_bridge.launch">
		<arg name="host" value="MIT" />
    <arg name="ego_vehicle_name" value="['stanford_ego', 'stanford_hero']" />
	</include>

	<!-- share one filter -->
	<node name="car_filter" pkg="carla_circle" type="car_filter.py" output="screen" />


  <!-- launch main components  -->
	<include file="$(find carla_circle)/launch/car_simulation.launch">
		<arg name="rolename" value="stanford_hero" />
	</include>

	<include file="$(find carla_circle)/launch/car_simulation.launch">
		<arg name="rolename" value="stanford_ego" />
	</include>


	<!-- visualization -->
	<node pkg="rviz" type="rviz" name="rviz" args="-d $(find carla_ros_bridge)/config/carla_default_rviz.cfg.rviz"/>

	<!-- two game planners -->
  <include file="$(find uavgame)/launch/main_multi_ego_mpc_gurobi.launch" />

</launch>
